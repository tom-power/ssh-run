#compdef sshRun

_hosts() {
  compadd $(~/bin/_sshRun hosts | sed 's/echo//')
}

_scripts() {
  compadd $(~/bin/_sshRun "${words[2]}" scripts | sed 's/echo//' | sed 's/$/ explain/')
}

_arguments -s \
  '1:hosts:_hosts' \
  '2:scripts:_scripts' \
  '3:explain:->explain'

if [[ $state == 'explain' && ${line[2]} != "explain" ]]; then
  _arguments '3:explain:(explain)'
fi